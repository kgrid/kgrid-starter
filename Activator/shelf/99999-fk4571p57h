{"metadata":{"title":"Prostate Cancer Risk Calculator for Men 50 years and older II","description":"This is a prostate cancer risk scoring mechanism","citations":[{"citation_title":"Prostate Cancer Prevention Trial risk calculator 2.0","citation_id":null,"citation_at":"Prostate Cancer Calc "},{"citation_title":"Prostate Cancer Prevention Trial risk calculator 2.0","citation_id":"a1cde20f-6149-4ab6-a80d-5868a6ce6c39","citation_at":"Prostate Cancer Calc "},{"citation_title":"Prostate Cancer Prevention Trial risk calculator 2.0","citation_id":"4cfe1a64-8fed-4062-92d3-f97d62203b9f","citation_at":"Prostate Cancer Calc "}],"arkId":{"arkId":"ark:/99999/fk4571p57h","fedoraPath":"99999-fk4571p57h"}},"inputMessage":"<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/#\"\n xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/inputMessage\">\n    <ot:noofparams>7</ot:noofparams>\n    <ot:params>\n      <rdf:Seq>\n        <rdf:li>PSA</rdf:li>\n        <rdf:li>DRE</rdf:li>\n        <rdf:li>PriorBiop</rdf:li>\n        <rdf:li>FamHist</rdf:li>\n        <rdf:li>AA</rdf:li>\n        <rdf:li>Age</rdf:li>\n\t<rdf:li>gender</rdf:li>\n      </rdf:Seq>\n    </ot:params>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/PSA/\">\n    <ot:datatype>FLOAT</ot:datatype>\n    <ot:min>0</ot:min>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/DRE/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>0</ot:min>\n    <ot:max>1</ot:max>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/PriorBiop/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>0</ot:min>\n    <ot:max>1</ot:max>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/FamHist/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>0</ot:min>\n    <ot:max>1</ot:max>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/AA/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>0</ot:min>\n    <ot:max>1</ot:max>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/Age/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>50</ot:min>\n    <ot:max>120</ot:max>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/gender/\">\n    <ot:datatype>STRING</ot:datatype>\n  </rdf:Description>\n</rdf:RDF>\n","outputMessage":"<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/\"\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/outputMessage\">\n    <ot:returntype>MAP</ot:returntype>\n  </rdf:Description>\n</rdf:RDF>\n","payload":{"content":"import math\n\n# Prostate Cancer Prevention Trial risk calculator\n# Authors:  Ankerst DP, Hoefler J, Bock S, Goodman PJ, Vickers A, Hernandez J,\n#           Sokoll LJ, Sanda MG, Wei JT, Leach RJ, Thompson IM.\n\n\ndef ProstateRiskCalc(info):\n    #\n    # PSA = prostate-specific antigen in ng/mL, plugged into log2 for formula\n    # DRE = Digital rectal exam, 1 (suspicious for Pcancer) versus 0 (normal)\n    # PriorBiop = 1 (ever a prior biopsy negative for Pcancer) versus 0 (other)\n    # FamHist = 1 (Pcancer in a father, brother or son) versus 0 (other)\n    # AA = 1 (African American) versus 0 (otherwise)\n    # Age = Age in years\n    #\n    \n    gender = info['gender']\n    op = {'success':'','errorMessage':'','result':''}\n    # print gender\n    \n    if(gender == 'M' or gender == 'm') :\n    \n        patientVarList = [math.log(float(info['PSA']), 2), info['DRE'], info['PriorBiop'],\n                      info['FamHist'], info['AA'], info['Age']]\n\n        s1Constant = (-3.00215469, 1)\n        s2Constant = (-7.05304534, 1)\n\n        # Order of Coeff: L2PSA, DRE, PriorBiop, FamHist, AA, Age\n        s1CoeffList = [0.25613390, -0.03864628, -0.45533257,\n                   0.27197219, .12172599, 0.01643637]\n        s2CoeffList = [0.70489441, 0.40068434, -0.21409933,\n                   0.22467348, 1.04174529, 0.04753804]\n\n        s1 = sum(a * b for a, b in (zip(patientVarList, s1CoeffList) +\n             [s1Constant]))\n        s2 = sum(a * b for a, b in (zip(patientVarList, s2CoeffList) +\n             [s2Constant]))\n\n        # risk tuple order (no risk, low risk, high risk)\n    \trisk = [1*100 / (1 + math.exp(s1) + math.exp(s2)),\n            math.exp(s1)*100 / (1 + math.exp(s1) + math.exp(s2)),\n            math.exp(s2)*100 / (1 + math.exp(s1) + math.exp(s2))]\n        op['success'] = 1\n        op['errorMessage'] = '-'\n        op['result'] = risk\n\n    else :\n        op['success'] = 0\n        op['errorMessage'] = 'Risk scores are applicable for males only'\n    # return three risk values\n    return op\n\n#info = {'PSA': 1.1, 'DRE': 0, 'PriorBiop': 0,\n#        'FamHist': 1, 'AA': 1, 'Age': 54,'gender':'F'\n#        }\n#\n#print ProstateRiskCalc(info)","engineType":"PYTHON","functionName":"ProstateRiskCalc"},"url":"http://kgrid.med.umich.edu/library2/knowledgeObject/ark:/99999/fk4571p57h"}