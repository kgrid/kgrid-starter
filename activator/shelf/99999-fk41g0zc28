{"metadata":{"title":"3-year Predictor of Hepatocellular Carcinoma in Hepatitis B without Cirrhosis for an Asian Population","arkId":"ark:/99999/fk41g0zc28","version":"","owner":"REACH-B Working Group and Academia Sinica and National Health Institutes of Taiwan","description":"This knowledge object can be used to predict liver cancer for those with Hepatitis B who are without Cirrhosis of the liver. ","contributors":"Hwai-I Yang, Man-Fung Yuen, Henry Lik-Yuen Chan, Kwang-Hyub Han, Pei-Jer Chen, Do-Young Kim, Sang-Hoon Ahn, Chien-Jen Chen","keywords":"Hepatocellular carcinoma, HCC, liver cancer, hepatitis B infection, risk prediction","published":"yes","lastModified":1479399831322,"createdOn":1479351080000,"objectType":null,"citations":[{"citation_id":null,"citation_title":"Risk estimation for hepatocellular carcinoma in chronic hepatitis B (REACH-B): development and validation of a predictive score","citation_at":"https://www.ncbi.nlm.nih.gov/pubmed/21497551"}],"license":{"licenseName":"","licenseLink":""}},"inputMessage":"<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/#\" \n xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/inputMessage\">\n    <ot:noofparams>6</ot:noofparams>\n    <ot:params>\n      <rdf:Seq>\n        <rdf:li>age</rdf:li>\n        <rdf:li>gender</rdf:li>\n        <rdf:li>ALT</rdf:li>\n        <rdf:li>HBeAg</rdf:li>\n        <rdf:li>HBVDNAlevel</rdf:li>\n\t\t<rdf:li>HepB</rdf:li>\n      </rdf:Seq>\n    </ot:params>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/age/\">\n    <ot:datatype>FLOAT</ot:datatype>\n    <ot:min>0</ot:min>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/gender/\">\n    <ot:datatype>STRING</ot:datatype>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/ALT/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>15</ot:min>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/HBeAg/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>0</ot:min>\n    <ot:max>1</ot:max>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/HBVDNAlevel/\">\n    <ot:datatype>FLOAT</ot:datatype>\n    <ot:min>300</ot:min>\n  </rdf:Description>\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/HepB/\">\n    <ot:datatype>INT</ot:datatype>\n    <ot:min>0</ot:min>\n    <ot:max>1</ot:max>\n  </rdf:Description>\n</rdf:RDF>\n","outputMessage":"<rdf:RDF xmlns:ot=\"http://uofm.org/objectteller/\" \n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">\n  <rdf:Description rdf:about=\"http://uofm.org/objectteller/outputMessage\">\n    <ot:returntype>MAP</ot:returntype>\n  </rdf:Description>\n</rdf:RDF>\n","payload":{"content":"from math import exp\nimport math\n\n\ndef getThreeYearHCCRisk(info):\n\n    HepB = int(info['HepB'])\n    \n    gender = info['gender']\n    currentage = int(info['age'])\n    paramALT = int(info['ALT'])\n    paramHBeAg = int(info['HBeAg'])\n    paramHBVDNAlevel = long(info['HBVDNAlevel'])\n\n    op = {'success':'','errorMessage':'','result':''}\n\n    if(HepB == 1 ):\n        paramGender = 0\n        if gender == 'M' or gender == 'm': \n            paramGender = 1\n    \n    \n        P0forThreeYearHCCRisk = 0.99853 \n    \n        maleCoef = 0.78798  \n        ageCoef = 0.09859\n        ALTCoef = 0 \n        if paramALT >= 15 and paramALT <= 44 :\n            ALTCoef = 0.38823\n        elif  paramALT >= 45 :\n            ALTCoef = 0.96311\n            \n        HBeAgCoef = 0; \n        if paramHBeAg > 0  :\n            HBeAgCoef = 0.81308\n        \n        HBVDNAlevelCoef = 0 \n        if paramHBVDNAlevel >= 300 and paramHBVDNAlevel <= 9999:\n            HBVDNAlevelCoef = 0.11648\n        elif paramHBVDNAlevel >= 10000 and paramHBVDNAlevel <= 99999:\n            HBVDNAlevelCoef = 1.31467\n        elif paramHBVDNAlevel >= 100000 and paramHBVDNAlevel <= 999999: \n            HBVDNAlevelCoef = 2.27028\n        elif paramHBVDNAlevel >= 1000000 :\n            HBVDNAlevelCoef = 2.09258\n                    \n        finalExValue =  maleCoef * paramGender + currentage * ageCoef +  ALTCoef + paramHBeAg * HBeAgCoef +  HBVDNAlevelCoef - 6.12796\n    \n        threeYearHCCRisk = 1 - math.pow( P0forThreeYearHCCRisk, math.exp(finalExValue) )\n    \n        op['result'] =  float(threeYearHCCRisk * 100 )\n        op['success'] = 1\n        op['errorMessage'] = '-'\n    else :\n        op['errorMessage'] = 'Not applicable for HepB -'\n        op['success'] = 0\n        \n    return op\n    \n#info = {'age': '60','gender': 'M','ALT': '47','HBeAg': '1','HBVDNAlevel': '99999', 'HepB':'1'}\n\n#print getThreeYearHCCRisk(info)\n","functionName":"getThreeYearHCCRisk","engineType":"Python"},"logData":"ProvenanceLogData: \n\t wasAttributedTo: 'null',\n\t wasGeneratedBy: 'null',\n\t wasAssociatedWith: 'Lib-Admin Lib-Admin',\n\t used: 'null',\n\t startedAtTime: Wed Nov 16 16:51:19 EST 2016,\n\t endedAtTime: Wed Nov 16 16:51:20 EST 2016","uri":"ark:/99999/fk41g0zc28"}